<div x-data="{ open: false }" class="relative">
  <!-- Trigger -->
  <div
    @click="open = !open"
    class="relative inline-flex items-center justify-center h-10 w-10 rounded-xl border border-neutral-300 bg-white text-neutral-700 hover:bg-neutral-100 hover:text-primary shadow-sm transition"
  >
    <i class="bi bi-chat-heart text-lg"></i>
  </div>

  <!-- Dropdown -->
  <div
    x-show="open"
    x-cloak
    @click.outside="open = false"
    x-transition
    class="absolute right-0 mt-3 w-60 bg-white border border-neutral-200 rounded-xl shadow-lg overflow-hidden"
  >
    <div
      class="px-4 py-2 text-xs font-semibold text-muted border-b border-neutral-200"
    >
      Chats
    </div>

    <div class="py-1">
      <a
        href="{% url 'chat' %}"
        class="flex items-center gap-3 px-4 py-2 text-neutral-700 hover:bg-neutral-100"
      >
        <i class="bi bi-people text-primary"></i>
        Public Chat
      </a>

      {% for group in groups %}
      <a
        href="{% url 'private-chat' group.group_name %}"
        class="flex items-center gap-3 px-4 py-2 text-neutral-700 hover:bg-neutral-100"
      >
        <i class="bi bi-person text-primary"></i>
        {{ group.member.username }}
      </a>
      {% endfor %}
    </div>
  </div>
</div>
