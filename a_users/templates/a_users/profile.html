<!--prettier-ignore-->
{% extends 'layouts/box.html' %}
{% block title %} {{ profile.name }} Profile {% endblock %}
{% block content %}

<div class="max-w-lg mx-auto flex flex-col items-center pt-16 px-4 text-center">
  <img
    class="w-36 h-36 rounded-full object-cover mb-4 border-4 border-primary bg-neutral shadow"
    src="{{ profile.avatar_url }}"
  />

  <h1 class="mb-1">{{ profile.name }}</h1>
  <div class="text-muted font-medium mb-6">@{{ profile.name }}</div>

  <div class="flex flex-col sm:flex-row gap-3 mb-8 w-full sm:w-auto">
    {% if request.user == profile.user %}
    <a
      href="{% url 'my-profile-edit' %}"
      class="inline-flex items-center justify-center gap-2 px-5 py-3 rounded-xl bg-neutral-200 text-neutral-900 font-semibold hover:bg-neutral-300 transition"
    >
      <i class="bi bi-pencil-square"></i>
      Edit Profile
    </a>
    {% endif %} {% if request.user != profile.user %}
    <form action="{% url 'start-chat' profile.user.username %}" method="POST">
      {% csrf_token%}
      <button
        type="submit"
        class="group relative inline-flex items-center justify-center gap-3 px-7 py-3 rounded-xl bg-primary text-white font-bold shadow-md hover:shadow-xl transition active:scale-95 overflow-hidden"
      >
        <span
          class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition"
        ></span>

        <i
          class="bi bi-chat-dots-fill text-lg transition-transform group-hover:scale-110"
        ></i>

        <span class="relative">Chat With Me</span>
      </button>
    </form>

    {% endif %}
  </div>

  {% if profile.info %}
  <div
    class="w-full mt-4 bg-neutral p-5 rounded-xl text-neutral-700 leading-relaxed border border-neutral-200"
  >
    {{ profile.info|linebreaksbr }}
  </div>
  {% endif %}
</div>

{% endblock %}
